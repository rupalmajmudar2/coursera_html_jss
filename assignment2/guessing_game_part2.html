<!doctype html>
<html>
<head>
<title>JavaScript Guessing Game</title>
</head>
<body onload="do_game()">
	<script>
        var colors= ["aqua", "blue", "cyan", "gray", "green", "magenta", "orange", "red", "white", "yellow"];
        var target;            
        var guessed_color;        
        var finished = false;   
        var guesses = 0;

        function do_game() {
            var random_number = Math.random() * colors.length;
            var random_number_integer = Math.floor(random_number);
            target = colors[random_number_integer];
			alert("Target=" + target + " #" + random_number_integer);
            while (!finished) {
            	guessed_color = prompt("I am thinking of one of these colors: " +
                						colors.join(",") + ". Guess which one? " +
                						" Note: type 'end' to end the game.");
                if (guessed_color == "end") {
                	alert("Thanks for playing! #Guesses=" + guesses);
                	finished=true;
                	break;
                }
                guesses += 1;   
                finished = check_guess();
            }
        }
        
        function check_guess() {
        	var indx= colors.indexOf(guessed_color);
        	if (indx == -1) {
				alert("‘I don’t recognize that color!");
                return false;
			}
            if (guessed_color > target) {
                alert("Your input is alphabetically higher than mine!");
                return false;
            }
            if (guessed_color < target) {
                alert("Your input is alphabetically lower than mine!");
                return false;
            }
 
            document.write("<p>You got it! The color was " + target + 
                        ".\n\nIt took you " + guesses + 
                        " guesses to get the color!");
            myBody=document.getElementsByTagName("body")[0];
            myBody.style.background=target;
 
            return true;   
        }   
     </script>
</body>
</html>
